webpackJsonp([1,2],{25:function(t,e,a){"use strict";function i(t){a(37)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(31),r=a(39),s=a(2),o=i,l=s(n.a,r.a,!1,o,"data-v-6cca0e8c",null);e.default=l.exports},27:function(t,e,a){"use strict";function i(t){a(45)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(41),r=a(47),s=a(2),o=i,l=s(n.a,r.a,!1,o,null,null);e.default=l.exports},31:function(t,e,a){"use strict";e.a={data:function(){return{curPage:1}},mounted:function(){this.curPage=this.currentPage},methods:{handleCurrentChange:function(t){this.$emit("change-curPage",t)}},watch:{currentPage:function(t,e){this.curPage=t}},props:{total:{type:Number,default:0},display:{type:Number,default:20},currentPage:{type:Number,default:1}}}},37:function(t,e,a){var i=a(38);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("6729f10f",i,!0,{})},38:function(t,e,a){e=t.exports=a(0)(!1),e.push([t.i,".swpagination[data-v-6cca0e8c]{padding:20px 0 5px;text-align:center}",""])},39:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-pagination",{staticClass:"swpagination",attrs:{background:"","current-page":t.curPage,"page-sizes":[t.display,2*t.display,4*t.display,6*t.display],"page-size":t.display,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.curPage=e}}})},n=[],r={render:i,staticRenderFns:n};e.a=r},41:function(t,e,a){"use strict";var i=a(25),n=a(3);e.a={data:function(){return{breadList:[{path:0,name:"DATA"},{path:0,name:"数据分析师"}],defaultActive:"1",cid:"4",tableLabel:{positionId:"岗位ID",positionName:"岗位名称",city:"城市",workYear:"工作经验",education:"教育程度",salary:"薪资",companyShortName:"公司简称",jobNature:"工作性质",createTime:"发布时间",companySize:"公司规模",industryField:"工业领域",positionAdvantage:"岗位优势",financeStage:"融资阶段",positionLables:"岗位标签",companyLabelList:"公司标签",companyFullName:"公司全称",isSchoolJob:"是否实习",skillLables:"技能标签"},query:{pname:"",ctime:[]},currentPage:1,allCount:0,plist:[],list:[],downloadURL:""}},mounted:function(){var t=this;this.$store.state.plist.length>0&&(this.plist=this.$store.state.plist,this.cid=this.plist[0].subList[0].id,this.checkRouteAndGetData(this.$route.params)),n.a.$on("getPlist",function(){t.plist=t.$store.state.plist,t.cid=t.plist[0].subList[0].id,t.checkRouteAndGetData(t.$route.params)}),n.a.$on("change-menu",function(e,a){t.resetSearchItem(),t.$router.push({path:"/list/"+t.plist[e].name.toLowerCase()+"/"+(a+1)})})},methods:{requestData:function(){var t=this,e=this.query,a=e.pname,i=e.ctime,n={page:this.currentPage,cid:this.cid,pname:a,stime:i?i[0]:"",etime:i?i[1]:""};this.$http.get("http://lance.natapp1.cc/jobs/list",{params:n}).then(function(e){200===e.body.status?(t.allCount=e.body.allCount,t.downloadURL=e.body.downloadURL,t.list=e.body.datas.map(function(t){return t.createTime&&(t.createTime=t.createTime.slice(0,10)),t.isSchoolJob=0==t.isSchoolJob?"否":"是",t})):(t.allCount=0,t.list=[])},function(t){})},checkRouteAndGetData:function(t){var e=void 0,a=void 0,i=this.plist.findIndex(function(e){return e.name.toLowerCase()===t.type.toLowerCase()});i>-1&&(e=this.plist[i],a=e.subList[t.index-1],e&&a?(this.breadList=[{path:i,name:e.name},{path:t.index-1,name:a.name}],this.defaultActive="/list/"+e.name.toLowerCase()+"/"+t.index,n.a.$emit("get-default-active",this.defaultActive),this.cid=this.plist[i].subList[t.index-1].id,this.requestData()):(this.resetSearchItem(),this.$router.push({path:"/list/"+this.plist[0].name.toLowerCase()+"/1"})))},searchData:function(){this.currentPage=1,this.requestData()},resetSearchItem:function(){this.query.pname="",this.query.ctime=[],this.currentPage=1},changeCurPage:function(t){this.currentPage=t,this.requestData()},exportFunc:function(){var t=this,e=this.query,a=e.pname,i=e.ctime,n={cid:this.cid,pname:a,stime:i?i[0]:"",etime:i?i[1]:""};this.$http.get("http://lance.natapp1.cc/jobs/exportExcel",{params:n}).then(function(e){if(200!==e.body.status)return void alert("当前导出文件错误，请刷新重试");t.downloadURL=e.body.downloadURL,window.location.href=t.downloadURL},function(t){alert("当前导出文件错误，请刷新重试")})}},computed:{importantTableLabel:function(){var t={};for(var e in this.tableLabel)"positionName"!=e&&"city"!=e&&"workYear"!=e&&"education"!=e&&"salary"!=e&&"companyShortName"!=e&&"jobNature"!=e&&"createTime"!=e||(t[e]=this.tableLabel[e]);return t}},watch:{$route:function(t,e){var a=t.params;this.checkRouteAndGetData(a)}},components:{"sw-pager":i.default}}},45:function(t,e,a){var i=a(46);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("3459cfd2",i,!0,{})},46:function(t,e,a){e=t.exports=a(0)(!1),e.push([t.i,".demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}",""])},47:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"List"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("分类")]),t._v(" "),t._l(t.breadList,function(e,i){return a("el-breadcrumb-item",{key:i},[t._v(t._s(e.name))])}),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.exportFunc()}}},[t._v("下载excel")])],2),t._v(" "),a("el-form",{staticClass:"query-form",attrs:{inline:"",model:t.query,"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"pname"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:t.query.pname,callback:function(e){t.$set(t.query,"pname",e)},expression:"query.pname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"日期",prop:"ctiem"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.query.ctime,callback:function(e){t.$set(t.query,"ctime",e)},expression:"query.ctime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.searchData()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{staticClass:"table",attrs:{data:t.list,id:"out-table",stripe:"",border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},t._l(t.tableLabel,function(i,n){return a("el-form-item",{key:n,attrs:{label:i}},[a("span",[t._v(t._s(e.row[n]))])])}),1)]}}])}),t._v(" "),t._l(t.importantTableLabel,function(t,e){return a("el-table-column",{key:e,attrs:{label:t,prop:e}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"}},[a("a",{attrs:{href:"https://www.lagou.com/jobs/"+e.row.positionId+".html",target:"_blank"}},[t._v("详情")])])]}}])})],2),t._v(" "),a("sw-pager",{attrs:{total:t.allCount,display:20,currentPage:t.currentPage},on:{"change-curPage":t.changeCurPage}})],1)},n=[],r={render:i,staticRenderFns:n};e.a=r}});
//# sourceMappingURL=1.chunk.js.map